# ==============================
# JDBC
# ==============================
%prod.quarkus.datasource.jdbc.url=${DB_URL}
%prod.quarkus.datasource.username=${DB_USER}
%prod.quarkus.datasource.password=${DB_PASS}

%dev.quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/hrms_db
%dev.quarkus.datasource.username=postgres
%dev.quarkus.datasource.password=root123

# ==============================
# Hibernate ORM
# ==============================
# Don't let Hibernate auto-create/drop schema, Flyway will manage it
quarkus.hibernate-orm.database.generation=none
# Show SQL in dev (disable in prod)
%dev.quarkus.hibernate-orm.log.sql=true
%dev.quarkus.hibernate-orm.log.format-sql=true

# ==============================
# Flyway Migration
# ==============================
# Run migrations automatically at startup
quarkus.flyway.migrate-at-start=true
# validate DB schema vs entities on startup
quarkus.flyway.validate-on-migrate=true
# Disable dropping schema at startup
quarkus.flyway.clean-at-start=false

# ==============================
# JWT
# ==============================
# Public verification key
mp.jwt.verify.publickey.location=publicKey.pem
# Private signing key
smallrye.jwt.sign.key.location=privateKey.pem
quarkus.native.resources.includes=publicKey.pem,privateKey.pem
# Required issuer
mp.jwt.verify.issuer=myIssuer

# ==============================
# CORS
# ==============================
CORS_ORIGIN=*
CORS_HEADERS_INCLUDE=Authorization,Content-Type
CORS_HEADERS_EXCLUDE=Content-Disposition,Authorization
# Enable CORS
quarkus.http.cors.enabled=true
# Allow all origins
quarkus.http.cors.origins=${CORS_ORIGIN}
# Allow HTTP methods
quarkus.http.cors.methods=GET,PUT,POST,DELETE,OPTIONS
# Allow headers including Authorization
quarkus.http.cors.headers=${CORS_HEADERS_INCLUDE}
# Expose headers to the client
quarkus.http.cors.exposed-headers=${CORS_HEADERS_EXCLUDE}
# Set max age for preflight requests
quarkus.http.cors.access-control-max-age=24H
# Allow credentials (cookies, Authorization headers)
quarkus.http.cors.access-control-allow-credentials=true

# ==============================
# Swagger-UI
# ==============================
quarkus.swagger-ui.always-include=true
quarkus.swagger-ui.path=/swagger-ui
quarkus.smallrye-openapi.path=/openapi
